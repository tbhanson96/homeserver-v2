<mat-chip-list class="file-nav">
    <mat-chip class="chip" routerLink="/home/files">
        <mat-icon>folder</mat-icon>
        Home
    </mat-chip>
    <mat-chip *ngFor="let part of reqPath; last as isLast" [routerLink]="getRouterLinkFromDir(part)" class="chip">
        {{part.toString()}}
    </mat-chip>
</mat-chip-list>
<mat-selection-list [multiple]="false">
    <ng-container *ngFor="let file of visibleFiles" [ngSwitch]="file.type">
        <mat-list-option *ngSwitchCase="'dir'" [routerLink]="file.name">
            <img matListAvatar class="list-image" [src]="'/assets/icons/' + file.type + '.png'" />
            <h3 matLine>{{file.name}}</h3>
            <p matLine>{{file.timestamp}}</p>
            <!-- <button mat-icon-button [matMenuTriggerFor]="optionsMenu" aria-label="View more" title="More info">
                <mat-icon>more_vert</mat-icon>
            </button> -->
            <mat-menu #optionsMenu>
                <mat-list>
                    <mat-list-item (click)="onRenameFile(file)">Rename</mat-list-item>
                    <!-- <mat-list-item (click)="onMoveFile($event, file)">Move</mat-list-item> -->
                    <mat-list-item (click)="onDeleteFile(file)">Delete</mat-list-item>
                </mat-list>
            </mat-menu>
        </mat-list-option>
        <a mat-list-item *ngSwitchDefault [href]="'home/files/' + file.link">
            <img matListAvatar class="list-image" [src]="'/assets/icons/' + file.type + '.png'" />
            <h3 matLine>{{file.name}}</h3>
            <p matLine>{{file.timestamp}}</p>
            <div>
                <button mat-button [matMenuTriggerFor]="optionsMenu" aria-label="View more" title="More info">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #optionsMenu>
                    <mat-list>
                        <mat-list-item (click)="onRenameFile(file)">Rename</mat-list-item>
                        <!-- <mat-list-item (click)="onMoveFile($event, file)">Move</mat-list-item> -->
                        <mat-list-item (click)="onDeleteFile(file)">Delete</mat-list-item>
                    </mat-list>
                </mat-menu>
            </div>
        </a>
    </ng-container>
</mat-selection-list>
<button fxFlexAlign="center" class="show-more" *ngIf="this.maxFilesShown < this.files.length" (click)="onShowMoreFiles()" mat-button>Show More</button>
<button mat-fab class="upload-button" color="primary" (click)="openUploadDialog()">
    <mat-icon>add</mat-icon>
</button>