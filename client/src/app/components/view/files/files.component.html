<mat-chip-list class="file-nav">
    <mat-chip class="chip" [selected]="reqPath.length === 0" routerLink="/home/files">
        <mat-icon>folder</mat-icon>
        Home
    </mat-chip>
    <mat-chip *ngFor="let part of reqPath; last as isLast" [selected]="isLast" [routerLink]="getRouterLinkFromDir(part)"
        class="chip">
        {{part.toString()}}
    </mat-chip>
</mat-chip-list>
<mat-selection-list [multiple]="false">
    <mat-list-option *ngFor="let file of visibleFiles" (click)="navigateToFileUrl(file)">
        <div matListAvatar>
            <img class="list-image" [src]="'/assets/icons/' + file.type + '.png'" />
        </div>
        <div>
            <div fxFlex class="file-info">
                <div mat-line>{{file.name}}</div>
                <div mat-line>{{file.timestamp}}</div>
            </div>
            <div fxLayoutAlign="center">
                <button (click)="$event.stopPropagation()" mat-icon-button [matMenuTriggerFor]="optionsMenu" title="More info">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #optionsMenu>
                    <button mat-menu-item (click)="onRenameFile(file)">Rename</button>
                    <!-- <mat-list-item (click)="onMoveFile($event, file)">Move</mat-list-item> -->
                    <button mat-menu-item (click)="onDeleteFile(file)">Delete</button>
                </mat-menu>
            </div>
        </div>
    </mat-list-option>
</mat-selection-list>
<button fxFlexAlign="center" class="show-more" *ngIf="this.maxFilesShown < this.files.length"
    (click)="onShowMoreFiles()" mat-button>Show More</button>
<button mat-fab class="upload-button" color="primary" (click)="openUploadDialog()">
    <mat-icon>add</mat-icon>
</button>